{% extends "base.html" %}

{% block content %}

<br>
<a href="{{ url_for('index.index') }}"><button>Back</button></a>
        <a style="float:right" id="submissionlink" href="{{ url_for('products.addtocart', pid=product.id, sid=product.sellerID, quantity=1) }}" type="submit"><button onclick="addAttribute()">Add to Cart</button></a>
        <script>
            function addAttribute() {
                document.getElementById("submissionlink").href = document.getElementById("submissionlink").href.substring(0,document.getElementById("submissionlink").href.length-1) + "/" + document.getElementById("theQuantity").value;
            }
        </script>
<p></p>
<h2>Product Details</h2>
<div class="container py-5">
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <ul class="list-group shadow">
                <li class="list-group-item">
                    <div class="media align-items-lg-center flex-column flex-lg-row p-3">
                        <div class="media-body order-2 order-lg-1">
                            <h5 class="mt-0 font-weight-bold mb-2">{{product.name}}</h5>
                            <p><span class="mb-0 medium" style="color:gray">Price: </span><span class="mb-0 medium" style="color:#8b0000">${{product.price}}</span></p>
                            <div class="d-flex align-items-center justify-content-between mt-1"></div>
                        </div><img src={{product.image}} alt="Generic placeholder image" width="400" class="ml-lg-5 order-1 order-lg-2">
                    </div> 
                </li> 
            </ul> 
        </div>
    </div>
</div>
<!-- Classic tabs -->
<div class="classic-tabs border rounded px-4 pt-1">
    <ul class="nav tabs-primary nav-justified" id="advancedTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active show" id="description-tab" data-toggle="tab" href="#description" role="tab" aria-controls="description" aria-selected="true">Description</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="info-tab" data-toggle="tab" href="#info" role="tab" aria-controls="info" aria-selected="false">Update Quantity</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="reviews-tab" data-toggle="tab" href="#reviews" role="tab" aria-controls="reviews" aria-selected="false">Reviews (1)</a>
      </li>
    </ul>
    <div class="tab-content" id="advancedTabContent">
      <div class="tab-pane fade show active" id="description" role="tabpanel" aria-labelledby="description-tab">
        <h5><b>{{product.name}}</b></h5>
        <p class="small text-muted mb-2"><u>Product ID</u>: {{product.id}}</p>
        <h6><u>Category</u>: {{product.category}}</h6>
        <h6><u>Rating</u>: {{product.rating}}</h6>
        <p class="pt-1"><u>Description</u>: {{product.description}}</p>
      </div>
      <div class="tab-pane fade" id="info" role="tabpanel" aria-labelledby="info-tab">
        <h5>Additional Information</h5>
        <table class="table table-bordered mt-3">
          <thead class="thead-dark">
            <tr>
              <th scope="row" class="w-150 dark-grey-text h6">Seller ID</th>
              <th scope="row" class="w-150 dark-grey-text h6">Seller Name</th>
              <th scope="row" class="w-150 dark-grey-text h6">Amount in Stock</th>
              <th scope="row" class="w-150 dark-grey-text h6">Quantity</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><p><a href="{{ url_for('users.userdetails', uid=product.sellerID) }}">{{product.sellerID}}</a></p></td>
              <td width="25%" scope="row" class="w-150 dark-grey-text h6">{{product.sellerName}}</td>
              <td width="25%" scope="row" class="w-150 dark-grey-text h6">{{product.Inventory}}</td>
              <td width="25%" scope="row" class="w-150 dark-grey-text h6">
              <input id="theQuantity" type="number" value="1" min="1" max="{{product.Inventory}}">
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
        <h5><span>1</span> review for <span>Fantasy T-shirt</span></h5>
        <div class="media mt-3 mb-4">
          <img class="d-flex mr-3 z-depth-1" src="https://mdbootstrap.com/img/Photos/Others/placeholder1.jpg" width="62" alt="Generic placeholder image">
          <div class="media-body">
            <div class="d-sm-flex justify-content-between">
              <p class="mt-1 mb-2">
                <strong>{{review.uid}} </strong>
                <span>â€“ </span><span>{{review.DateTime}}</span>
              </p>
            </div>
            <p class="mb-0">{{review.review}}</p>
          </div>
        </div>
        <hr>
        <h5 class="mt-4">Add a review</h5>
        <p>Your email address will not be published.</p>
        <div class="my-3">
        </div>
        <div>
          <!-- Your review -->
          <div class="md-form md-outline">
            <textarea id="form76" class="md-textarea form-control pr-6" rows="4"></textarea>
            <label for="form76">Your review</label>
          </div>
          <!-- Name -->
          <div class="md-form md-outline">
            <input type="text" id="form75" class="form-control pr-6">
            <label for="form75">Name</label>
          </div>
          <!-- Email -->
          <div class="md-form md-outline">
            <input type="email" id="form77" class="form-control pr-6">
            <label for="form77">Email</label>
          </div>
          <div class="text-right pb-2">
            <button type="button" class="btn btn-primary">Add a review</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>
  <!-- Classic tabs -->

{% endblock %}