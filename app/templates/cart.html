
{% extends "base.html" %}
<!DOCTYPE html>
<html lang="en" >
{% block content %}
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel="stylesheet" type="text/css" href="static/css/cart.css">

</head>
<body>
<!-- partial:index.partial.html -->
{% if cart_items == [] or not current_user.is_authenticated %}
    <h1>Your cart is currently empty.</h1>
{% else %}
<h1>Shopping Cart</h1>
<br><br>
<div class="shopping-cart">
  <div class="column-labels">
    <label class="product-image">Image</label>
    <label class="product-details">Product</label>
    <label class="product-price">Price</label>
    <label class="product-quantity">Quantity</label>
    <label class="product-removal">Remove</label>
    <label class="product-line-price">Total</label>
  </div>
  {% for product in cart_items%}
  <div class="product">
    <div class="product-image">
      <img src={{product.imgUrl}}>
    </div>
    <div class="product-details">
      <div class="product-title">{{product.name}}</div>
      <p class="product-id">Product ID: {{product.pid}}</p>
    </div>
    <div class="product-price">{{product.unitPrice}}</div>
    <div class="product-quantity">
      <input type="number" value="{{product.quantity}}" min="1" max="{{product.Inventory}}">
    </div>
    <div class="product-removal">
      <button class="remove-product">
        Remove
      </button>
    </div>
    <div class="product-line-price">{{product.totalPrice}}</div>
  </div>
  {% endfor %}

  <div class="totals">
    <div class="totals-item">
      <label>Subtotal</label>
      <div class="totals-value" id="cart-subtotal">{{subtotal}}</div>
    </div>
  </div>
      
      <button class="checkout">Checkout</button>

</div>

{% endif %}

<!-- partial -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script  src="app/models/scripts/cart.js"></script>
{% endblock %}
</body>
</html>
